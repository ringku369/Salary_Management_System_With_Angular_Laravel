(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{jdsC:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminUsertouserModule",(function(){return j}));var r=n("ofXK"),i=n("tyNb"),a=(n("QVta"),n("PdH4")),o=n.n(a),s=n("fXoL"),l=n("5eHb"),d=n("JqCM"),c=n("lGQG"),m=n("2QD9"),u=n("yj+E"),p=n("Qe8B"),f=n("1kSV"),h=n("/n7v"),g=n("+Ai/"),b=n("3Pt+"),v=n("lTK2");function y(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",27),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().promptAlert()})),s["\u0275\u0275text"](1,"Send Varifycode"),s["\u0275\u0275elementEnd"]()}}function S(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",28),s["\u0275\u0275elementStart"](1,"button",29),s["\u0275\u0275text"](2,"\xd7"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("hidden",!n.success),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",e," ")}}function M(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",30),s["\u0275\u0275elementStart"](1,"button",29),s["\u0275\u0275text"](2,"\xd7"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("hidden",!n.errors),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",e," ")}}function x(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"button",31),s["\u0275\u0275text"](1,"Process ..."),s["\u0275\u0275elementEnd"]()),2&e){s["\u0275\u0275nextContext"]();const e=s["\u0275\u0275reference"](9);s["\u0275\u0275property"]("disabled",!e.valid)}}const E=new Date,C=[{path:"",component:(()=>{class e{constructor(e,t,n,r,i,a,o,s,l){this.router=e,this.toastr=t,this.spinner=n,this.authservice=r,this.authtoken=i,this.authstatus=a,this.adminUserService=o,this.parserFormatter=s,this.calendar=l,this.success=[],this.errors=[],this.form={user:"0",user_id:null,amount:null,verifycode:null,remarks:"Balance Debited",salary:null,rank:null,balance:null,bank:null,acno:null},this.modelDisabled={year:E.getFullYear(),month:E.getMonth()+1,day:E.getDate()},this.users=[],this.udata={user_id:null},this.spinner.show()}emptyMessage(){this.errors=[],this.success=[]}successMsg(e){for(let t=0;t<e.length;t++)this.toastr.success(e[t])}errorMsg(e){for(let t=0;t<e.length;t++)this.toastr.error(e[t])}promptAlert(){o.a.fire({text:"Please check your email address to get OTP code,  Input OTP Code",input:"text"}).then(e=>{if(e.value){if(this.form.verifycode!=e.value)return this.toastr.error("Invalid varification code, user valid code to continue fund transfer"),this.spinner.hide(),!1;this.form.verifycode=e.value,this.postFundTrToUserConfirm(this.form)}})}selectToday(){this.fdate={year:E.getFullYear(),month:E.getMonth()+1,day:E.getDate()}}ngOnInit(){this.spinner.hide(),this.getUser()}cloneOptions(e){return e.map(e=>({value:e.value,label:e.label}))}postFundTrToUserConfirm(e){this.adminUserService.postFundTrToUserConfirm(e).subscribe(e=>{this.successMsg(e),this.form={user:"0",user_id:null,amount:null,verifycode:null},this.spinner.hide()},e=>{this.errorMsg(e.error)})}getUser(){this.adminUserService.getUserForDD().subscribe(e=>{this.users=this.cloneOptions(e),this.spinner.hide()},e=>{this.errorMsg(e.error)})}onSubmit(){return this.spinner.show(),this.form.user_id=this.form.user,"0"==this.form.user?(this.toastr.error("Please select user option"),this.spinner.hide(),!1):this.form.amount<=0||null==this.form.amount?(this.toastr.error("Please input amount first"),this.spinner.hide(),!1):void this.adminUserService.postFundTrToUser(this.form).subscribe(e=>{this.toastr.success(e[0]),this.form=e[1],this.spinner.hide(),this.promptAlert()},e=>{this.spinner.hide(),this.errorMsg(e.error)})}onOptionsSelected(e,t){this.spinner.show(),this.udata.user_id=t,this.getUserProfile()}getUserProfile(){this.adminUserService.getUserProfile(this.udata).subscribe(e=>{this.spinner.hide(),this.form.balance="$"+e.balance,this.form.acno=e.acno,this.form.bank=e.bank.name,this.form.salary="$"+e.rank.salary,this.form.amount=e.rank.salary},e=>{this.errorMsg(e.error)})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](i.f),s["\u0275\u0275directiveInject"](l.c),s["\u0275\u0275directiveInject"](d.c),s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](m.a),s["\u0275\u0275directiveInject"](u.a),s["\u0275\u0275directiveInject"](p.a),s["\u0275\u0275directiveInject"](f.e),s["\u0275\u0275directiveInject"](f.c))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-admin-usertouser"]],decls:44,vars:13,consts:[[1,"row"],[1,"col-sm-12"],["cardTitle","Fund Transfer To Other Accounts",3,"options"],["type","info","dismiss","true"],[1,"text-center","text-danger","font-weight-bolder"],["class","btn btn-block btn-sm btn-primary mb-4",3,"click",4,"ngIf"],[1,"m-t-20",3,"ngSubmit"],["signupForm","ngForm"],["class","alert alert-success",3,"hidden",4,"ngFor","ngForOf"],["class","alert alert-warning",3,"hidden",4,"ngFor","ngForOf"],[1,"input-group","input-group-sm","mb-3"],["name","user","id","forUser","aria-describedby","inputGroup-sizing-sm","required","",1,"custom-select",3,"ngClass","options","ngModel","ngModelChange"],["mySelect",""],[1,"input-group-prepend"],["id","inputGroup-sizing-sm","for","forUser",1,"input-group-text"],[1,"input-group","input-group-sm","mb-4"],["type","text","name","acno","disabled","","placeholder","AC NO","aria-label","ACNO","aria-describedby","forAcno","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","forAcno",1,"input-group-text"],["type","text","name","balance","disabled","","placeholder","Balance","aria-label","Balance","aria-describedby","forBalance","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","forBalance",1,"input-group-text"],["type","text","name","bank","disabled","","placeholder","Bank","aria-label","Bank","aria-describedby","forBank","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","forBank",1,"input-group-text"],["type","text","name","salary","disabled","","placeholder","Salary","aria-label","Salary","aria-describedby","forSalary","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","forSalary",1,"input-group-text"],["type","number","name","amount","min","0","max","1000","step","10","placeholder","Input amount","aria-label","Input amount","aria-describedby","forAmount","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","forAmount",1,"input-group-text"],["class","btn btn-block btn-sm btn-primary mb-4",3,"disabled",4,"ngIf"],[1,"btn","btn-block","btn-sm","btn-primary","mb-4",3,"click"],[1,"alert","alert-success",3,"hidden"],["type","button","data-dismiss","alert","aria-hidden","true",1,"close"],[1,"alert","alert-warning",3,"hidden"],[1,"btn","btn-block","btn-sm","btn-primary","mb-4",3,"disabled"]],template:function(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275element"](1,"ngx-spinner"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"app-card",2),s["\u0275\u0275elementStart"](4,"app-alert",3),s["\u0275\u0275elementStart"](5,"span",4),s["\u0275\u0275text"](6," There is a verification code required to transfer fund and it's get in your email address also provide authentic information "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](7,y,2,0,"button",5),s["\u0275\u0275elementStart"](8,"form",6,7),s["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmit()})),s["\u0275\u0275template"](10,S,4,2,"div",8),s["\u0275\u0275template"](11,M,4,2,"div",9),s["\u0275\u0275elementStart"](12,"div",10),s["\u0275\u0275elementStart"](13,"ng-select",11,12),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.form.user=e}))("ngModelChange",(function(n){s["\u0275\u0275restoreView"](e);const r=s["\u0275\u0275reference"](14);return t.onOptionsSelected(n,r.value)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",13),s["\u0275\u0275elementStart"](16,"label",14),s["\u0275\u0275text"](17,"Required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"div",15),s["\u0275\u0275elementStart"](19,"input",16),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.form.acno=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"div",13),s["\u0275\u0275elementStart"](21,"span",17),s["\u0275\u0275text"](22,"Required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"div",15),s["\u0275\u0275elementStart"](24,"input",18),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.form.balance=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"div",13),s["\u0275\u0275elementStart"](26,"span",19),s["\u0275\u0275text"](27,"Required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"div",15),s["\u0275\u0275elementStart"](29,"input",20),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.form.bank=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"div",13),s["\u0275\u0275elementStart"](31,"span",21),s["\u0275\u0275text"](32,"Required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](33,"div",15),s["\u0275\u0275elementStart"](34,"input",22),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.form.salary=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"div",13),s["\u0275\u0275elementStart"](36,"span",23),s["\u0275\u0275text"](37,"Required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](38,"div",10),s["\u0275\u0275elementStart"](39,"input",24),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.form.amount=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](40,"div",13),s["\u0275\u0275elementStart"](41,"span",25),s["\u0275\u0275text"](42,"Required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](43,x,2,1,"button",26),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}2&e&&(s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("options",!1),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",t.form.verifycode),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngForOf",t.success),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",t.errors),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngClass","ng-select")("options",t.users)("ngModel",t.form.user),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.form.acno),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.form.balance),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.form.bank),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.form.salary),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.form.amount),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",null==t.form.verifycode))},directives:[d.a,h.a,g.a,r.u,b.G,b.s,b.t,r.t,v.a,b.C,r.r,b.r,b.u,b.d,b.x],styles:["ng-select.ng-select[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:4px;border:none!important;margin-top:-3px!important}"]}),e})()}];let k=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.j.forChild(C)],i.j]}),e})();var I=n("ebz3"),w=n("Kb4U"),U=n("D5FM"),F=n("Mdnn");let j=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,k,I.a,U.a,w.a,v.b,b.m,d.b,f.f,F.a]]}),e})()}}]);